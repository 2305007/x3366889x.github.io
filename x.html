<!doctype html>
<html>
     <head>
         <title>x.html</title>
     </head>
     <body id="x">
        <table border="1">
            <tr><td>1</td><td>2</td><td>3</td></tr>
            <tr><td>4</td><td>5</td><td>6</td></tr>
            <tr><td>7</td><td>8</td><td>9</td></tr>
        </table>
        <!--按鍵圖示-->
        <div>
            <table border="0" class="X">
                <tr>
                    <td></td>
                    <td></td>
                    <td><input type="button" value="Ｅ" class="WASD" id="E"></td>
                </tr>
                <tr>
                    <td></td>
                    <td><input type="button" value="Ｗ" class="WASD" id="W"></td>
                    <td></td>
                </tr>
                <tr>
                    <td><input type="button" value="Ａ" class="WASD" id="A"></td>
                    <td><input type="button" value="Ｓ" class="WASD" id="S"></td>
                    <td><input type="button" value="Ｄ" class="WASD" id="D"></td>
                </tr>
            </table>
       </div>
       <!--圖片-->
       <img src='https://2305007.github.io/x3366889x.github.io/釣魚/rickroll.gif' class="rickroll">
     </body>
</html>
<style>
    div{
        position: absolute;
        transform: translate(-130%,-140%);
        top: 100%;
        left: 100%;
        z-index: 999;
    }
    .X{
        width: 100%;
        height: 100%;
    }
    .WASD{
        width: 100%;
        height: 100%;
        font-size: 350%;
        border-radius: 15px;
    }
    .rickroll{
        position: absolute;
        transform: translate(-50%,-50%);
        border-Style : ridge;
        border-Color : #909090;
        border-Width : 7px;
        z-index: 997;
    }
</style>
<script>
    //獲取物件
    var rickroll = document.querySelector('.rickroll');
    var div      = document.querySelector('div');
    var W        = document.getElementById("W");//87
    var A        = document.getElementById("A");//65
    var S        = document.getElementById("S");//83
    var D        = document.getElementById("D");//68
    var E        = document.getElementById("E");//69
    //設定GIF大小
    function rickroll_WH(){
        if (window.innerHeight > window.innerWidth){
            rickroll.style.width  = window.innerWidth/10*2  + "px"
            rickroll.style.height = window.innerWidth/10*2  + "px"
        } else {
            rickroll.style.width  = window.innerHeight/10*2 + "px"
            rickroll.style.height = window.innerHeight/10*2 + "px"
        }
    }
    //設定操作畫面大小
    function div_WH(){
        div.style.width  = window.innerWidth/10*2   + "px"
        div.style.height = window.innerHeight/10*2  + "px"
    }
    //初始化GIF大小+位置
    rickroll_WH()
    rickroll.style.top  = window.innerHeight/2 + "px"
    rickroll.style.left = window.innerWidth/2  + "px"
    //初始化操作畫面大小
    div_WH()
    //當視窗大小變更重新調整
    window.addEventListener('resize',rickroll_WH)
    window.addEventListener('resize',div_WH)

    var speed = 30
    function W1(){if(parseInt(rickroll.style.top)-parseInt(rickroll.style.height)/2 >= speed){rickroll.style.top  = parseInt(rickroll.style.top)  - speed + "px";W.style.backgroundColor = "#909090"}}
    function A1(){if(parseInt(rickroll.style.left)-parseInt(rickroll.style.width)/2 >= speed){rickroll.style.left = parseInt(rickroll.style.left) - speed + "px";A.style.backgroundColor = "#909090"}}
    function S1(){if(window.innerHeight-parseInt(rickroll.style.top)-parseInt(rickroll.style.height)/2 >= speed){rickroll.style.top  = parseInt(rickroll.style.top)  + speed + "px";S.style.backgroundColor = "#909090"}}
    function D1(){if(window.innerWidth-parseInt(rickroll.style.left)-parseInt(rickroll.style.width)/2 >= speed){rickroll.style.left = parseInt(rickroll.style.left) + speed + "px";D.style.backgroundColor = "#909090"}}

    function E1(){
        E.style.backgroundColor = "#909090"
        var frame = document.getElementById("x")
        var box = document.createElement("img")
        box.className = box
        box.style.background = "url('https://i.imgur.com/3iy3REX.gif')"
        box.style.backgroundSize = "contain"
        box.style.width = parseInt(rickroll.style.width)/2  +"px"
        box.style.height = parseInt(rickroll.style.height)/2+"px"
        box.style.top = rickroll.style.top
        box.style.left = rickroll.style.left
        box.style.position = "absolute"
        box.style.transform= "translate(-50%,-50%)"
        box.style.zIndex = "998"
        box.style.borderStyle = "ridge"
        box.style.borderColor = "#909090"
        box.style.borderWidth = "5px"
        frame.appendChild(box)
    }
    
    function WASD2(){
        W.style.backgroundColor = "#f0f0f0"
        A.style.backgroundColor = "#f0f0f0"
        S.style.backgroundColor = "#f0f0f0"
        D.style.backgroundColor = "#f0f0f0"
        E.style.backgroundColor = "#f0f0f0"
    }
    function E2(){}


    document.onkeydown = function(event) {
    if(event.keyCode == 87){W1();};
    if(event.keyCode == 65){A1();};
    if(event.keyCode == 83){S1();};
    if(event.keyCode == 68){D1();};
    if(event.keyCode == 69){E1();};
    }
    document.onkeyup = function(event) {
    if(event.keyCode == 87){WASD2();};
    if(event.keyCode == 65){WASD2();};
    if(event.keyCode == 83){WASD2();};
    if(event.keyCode == 68){WASD2();};
    if(event.keyCode == 69){WASD2();};
    }
    




</script>
